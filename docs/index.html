<!DOCTYPE html>

<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <h1>index.js</h1>
        

        
          <div class="toc">
            <h3>Table of Contents</h3>
            <ol>
              
                
                <li>
                  <a class="source" href="consts.html">
                    consts.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="elements/global-header.html">
                    elements/global-header.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="elements/not-found.html">
                    elements/not-found.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="index.html">
                    index.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="modals/example-modal.html">
                    modals/example-modal.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="routes.html">
                    routes.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="store.html">
                    store.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="util/equal.html">
                    util/equal.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="util/loadImage.html">
                    util/loadImage.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="util/urlFor.html">
                    util/urlFor.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="util/workerize.html">
                    util/workerize.js
                  </a>
                </li>
              
            </ol>
          </div>
        
      </div>

      
        
        
        
          <div class='highlight'><pre><span class="hljs-keyword">import</span> Preact <span class="hljs-keyword">from</span> <span class="hljs-string">'preact'</span></pre></div>
        
      
        
        <h2 id="entry-point-of-your-app">Entry Point of Your App</h2>

        
      
        
        
        
      
        
        <p><code>src/index.js</code> contains your top-most Component that will be mounted to the DOM and
is the entry point for your entire app. Everything starts here!</p>

        
      
        
        <p>We use <a href="https://github.com/staydecent/atom">atom</a> for global state management.
It is a tiny alternative to Redux, yet maintains compatibility with Redux DevTools!</p>

        
      
        
        <p><a href="https://github.com/inputlogic/elements">inputlogic/elements</a> houses common Components
that many PWAs will end up needing. In this case, we are importing Helmet for managing
title and meta tags, Notification for displaying notifications, and Router which may be
the most important Component of all.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">import</span> Helmet <span class="hljs-keyword">from</span> <span class="hljs-string">'@app-elements/helmet'</span>
<span class="hljs-keyword">import</span> Notification <span class="hljs-keyword">from</span> <span class="hljs-string">'@app-elements/notification'</span>
<span class="hljs-keyword">import</span> Router <span class="hljs-keyword">from</span> <span class="hljs-string">'@app-elements/router'</span></pre></div>
        
      
        
        <p>Here, we import Components we want to render on <em>all</em> routes. For example,
we include a GlobalHeader, and a <em>NotFound</em> component which renders when no route is
matched. (If your app does not need these global elements, you can of course remove them.)</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">import</span> GlobalHeader <span class="hljs-keyword">from</span> <span class="hljs-string">'/elements/global-header'</span>
<span class="hljs-keyword">import</span> NotFound <span class="hljs-keyword">from</span> <span class="hljs-string">'/elements/not-found'</span></pre></div>
        
      
        
        <p>The main <a href="/routes.html">routes</a> file defines the top-level routes and their respective
Components.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">import</span> routes <span class="hljs-keyword">from</span> <span class="hljs-string">'/routes'</span></pre></div>
        
      
        
        <p>And our apps’ global store.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">import</span> store, { Provider } <span class="hljs-keyword">from</span> <span class="hljs-string">'/store'</span></pre></div>
        
      
        
        <h3 id="styling">Styling</h3>

        
      
        
        <p>We use LESS for styling. And ideally, each element Component will
import a <code>style.less</code> file in the same directory. This allows us to
organize styles based on Component organization, without drastically
changing the way we write CSS.</p>

        
      
        
        <p>In this case, we are loading the global styles.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">import</span> <span class="hljs-string">'/styles/variables.less'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'/styles/base.less'</span></pre></div>
        
      
        
        <p>And, finally, our RootApp! This is the top-level Component to render
into the DOM and kick-start our entire app!</p>

        
      
        
        <p>First, our entire app is wrapped in the <em>atom</em> <code>Provider</code> component.
This adds the store to the React context, meaning any child can access our
store reference.
Then we include those Component’s that we want to be rendered on <em>all</em> routes.</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> RootApp = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
  &lt;Provider store={store}&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'main-app-container'</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Helmet</span>
        <span class="hljs-attr">title</span>=<span class="hljs-string">'Welcome'</span>
        <span class="hljs-attr">titleTemplate</span>=<span class="hljs-string">'PWA Starter | %s'</span>
        <span class="hljs-attr">defaultTitle</span>=<span class="hljs-string">'Welcome'</span>
      /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">GlobalHeader</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Notification</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Router</span> <span class="hljs-attr">routes</span>=<span class="hljs-string">{routes}</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">NotFound</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span>

</span></pre></div>
        
      
        
        <p>Only render if we are in the browser, server-side rendering will be
handled by the <code>server</code> (which is not covered here).</p>

        
          <div class='highlight'><pre><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span> !== <span class="hljs-string">'undefined'</span>) {
  Preact.render(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RootApp</span> /&gt;</span>,
    document.body, document.body.children[0]
  )
}

</span></pre></div>
        
      
        
        <h2 id="contents">Contents</h2>

        
      
        
        
        
      
        
        <p><strong>/</strong></p>

        
      
        
        <ul>
<li><a href="/consts.html">consts.js</a></li>
<li><a href="/routes.html">routes.js</a></li>
<li><a href="/store.html">store.js</a></li>
</ul>

        
      
        
        <p><strong>apps/</strong></p>

        
      
        
        <p>This is where we organize project specific code into logical groupings.
Each app will need to export a Component and <code>{routes}</code> Object.</p>

        
      
        
        <p><strong>assets/</strong></p>

        
      
        
        <p>Put any static files you want copied over to the <code>public/</code> folder.</p>

        
      
        
        <p><strong>elements/</strong></p>

        
      
        
        <p>Elements are reusable Components that render some JSX. These are generic
and are common to use throughout all apps.</p>

        
      
        
        <ul>
<li><a href="/elements/global-header">global-header.js</a></li>
<li><a href="/elements/not-found">not-found.js</a></li>
</ul>

        
      
        
        <p><strong>modals/</strong></p>

        
      
        
        <p>Any global (cross-app) modals can go here. These should all use the
<a href="https://github.com/inputlogic/elements/tree/master/packages/Modal">Modal</a> element in their <code>render</code> method.</p>

        
      
        
        <ul>
<li><a href="/modals/example-modal">example-modal.js</a></li>
</ul>

        
      
        
        <p><strong>styles/</strong></p>

        
      
        
        <p>Global LESS files can go here. They should be manually imported by
<code>src/index.js</code></p>

        
      
        
        <p><strong>util/</strong></p>

        
      
        
        <p>Simple helper functions used throughout your project.</p>

        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
